---
import {getCollection, render} from "astro:content";
import PostLayout from "../../layouts/PostLayout.astro";

const {slug} = Astro.params;

const posts = await getCollection("blog");

const entry = posts.find(
    (entry) => {
        return entry.id === slug;
    }
);

if (!entry) {
    return Astro.redirect("/404");
}

const {Content} = await render(entry);
---

<PostLayout post={entry}>
    <Content/>
</PostLayout>
